{"version":3,"file":"bounds.js","sources":["../../src/domrect-polyfill.ts","../../src/-private/bounds.ts"],"sourcesContent":["// Polyfill DOMRect\n// It's not available on Edge or IE11\n\nfunction nonEnumerable(target: any, propertyKey: string) {\n  let descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\n  if (descriptor.enumerable != false) {\n    descriptor.enumerable = false;\n    Object.defineProperty(target, propertyKey, descriptor);\n  }\n}\n\nclass DOMRectPolyfill implements DOMRect {\n  static fromRect(\n    rect: { x?: number; y?: number; width?: number; height?: number } = {},\n  ) {\n    return new DOMRect(\n      rect.x ?? 0,\n      rect.y ?? 0,\n      rect.width ?? 0,\n      rect.height ?? 0,\n    );\n  }\n\n  constructor(x?: number, y?: number, width?: number, height?: number) {\n    if (x != null) {\n      this.x = x;\n    }\n    if (y != null) {\n      this.y = y;\n    }\n    if (width != null) {\n      this.width = width;\n    }\n    if (height != null) {\n      this.height = height;\n    }\n  }\n\n  // DOMRect's properties are all non-enumerable\n  @nonEnumerable x = 0;\n  @nonEnumerable y = 0;\n  @nonEnumerable width = 0;\n  @nonEnumerable height = 0;\n\n  get top() {\n    return this.y;\n  }\n\n  get right() {\n    return this.x + this.width;\n  }\n\n  get bottom() {\n    return this.y + this.height;\n  }\n\n  get left() {\n    return this.x;\n  }\n\n  // But it has a toJSON that does include all the properties.\n  toJSON() {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height,\n      top: this.top,\n      right: this.right,\n      bottom: this.bottom,\n      left: this.left,\n    };\n  }\n}\n\nif (typeof window !== 'undefined' && !window.DOMRect) {\n  (window as { DOMRect: typeof DOMRect }).DOMRect = DOMRectPolyfill;\n}\n","import '../domrect-polyfill.ts';\n\n/**\n  Shifts the coordinates of the given bounds using the provided\n  x and y axis offset.\n\n  @private\n  @function shiftedBounds\n  @hide\n  @param {Object} bounds The original bounds.\n  @param {number} dx X axis offset.\n  @param {number} dy Y axis offset.\n  @return {Object} The newly calculated bounds.\n*/\nexport function shiftedBounds(\n  bounds: DOMRect,\n  dx: number,\n  dy: number,\n): DOMRect {\n  return new DOMRect(bounds.x + dx, bounds.y + dy, bounds.width, bounds.height);\n}\n\n/**\n  Resizes the coordinates of the given bounds using the provided\n  width and height.\n\n  @private\n  @function resizedBounds\n  @hide\n  @param {Object} bounds The original bounds.\n  @param {number} width The target width.\n  @param {number} height The target height.\n  @return {Object} The newly calculated bounds.\n*/\nexport function resizedBounds(\n  bounds: DOMRect,\n  width: number,\n  height: number,\n): DOMRect {\n  return new DOMRect(bounds.x, bounds.y, width, height);\n}\n\n/**\n  Shifts the coordinates of the given bounds so they are relative to\n  the offset.\n\n  @private\n  @function relativeBounds\n  @hide\n  @param {Object} bounds The original bounds.\n  @param {Object} offset The offset.\n  @return {Object} The newly calculated bounds.\n*/\nexport function relativeBounds(\n  bounds: DOMRect,\n  offset: { left: number; top: number },\n): DOMRect {\n  return shiftedBounds(bounds, -offset.left, -offset.top);\n}\n\n/**\n  An empty bounds object.\n\n  @private\n  @hide\n  @constant {Object} emptyBounds\n*/\nexport const emptyBounds = Object.freeze(new DOMRect(0, 0, 0, 0));\n"],"names":["nonEnumerable","target","propertyKey","descriptor","Object","getOwnPropertyDescriptor","enumerable","defineProperty","DOMRectPolyfill","_class","fromRect","rect","DOMRect","x","y","width","height","constructor","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","top","right","bottom","left","toJSON","_applyDecoratedDescriptor","prototype","configurable","writable","initializer","window","shiftedBounds","bounds","dx","dy","resizedBounds","relativeBounds","offset","emptyBounds","freeze"],"mappings":"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"}
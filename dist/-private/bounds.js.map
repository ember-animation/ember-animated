{"version":3,"file":"bounds.js","sources":["../../src/domrect-polyfill.ts","../../src/-private/bounds.ts"],"sourcesContent":["// Polyfill DOMRect\n// It's not available on Edge or IE11\n\nfunction nonEnumerable(target: any, propertyKey: string) {\n  let descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};\n  if (descriptor.enumerable != false) {\n    descriptor.enumerable = false;\n    Object.defineProperty(target, propertyKey, descriptor);\n  }\n}\n\nclass DOMRectPolyfill implements DOMRect {\n  static fromRect(\n    rect: { x?: number; y?: number; width?: number; height?: number } = {},\n  ) {\n    return new DOMRect(\n      rect.x ?? 0,\n      rect.y ?? 0,\n      rect.width ?? 0,\n      rect.height ?? 0,\n    );\n  }\n\n  constructor(x?: number, y?: number, width?: number, height?: number) {\n    if (x != null) {\n      this.x = x;\n    }\n    if (y != null) {\n      this.y = y;\n    }\n    if (width != null) {\n      this.width = width;\n    }\n    if (height != null) {\n      this.height = height;\n    }\n  }\n\n  // DOMRect's properties are all non-enumerable\n  @nonEnumerable x = 0;\n  @nonEnumerable y = 0;\n  @nonEnumerable width = 0;\n  @nonEnumerable height = 0;\n\n  get top() {\n    return this.y;\n  }\n\n  get right() {\n    return this.x + this.width;\n  }\n\n  get bottom() {\n    return this.y + this.height;\n  }\n\n  get left() {\n    return this.x;\n  }\n\n  // But it has a toJSON that does include all the properties.\n  toJSON() {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height,\n      top: this.top,\n      right: this.right,\n      bottom: this.bottom,\n      left: this.left,\n    };\n  }\n}\n\nif (typeof window !== 'undefined' && !window.DOMRect) {\n  (window as { DOMRect: typeof DOMRect }).DOMRect = DOMRectPolyfill;\n}\n","import '../domrect-polyfill.ts';\n\n/**\n  Shifts the coordinates of the given bounds using the provided\n  x and y axis offset.\n\n  @private\n  @function shiftedBounds\n  @hide\n  @param {Object} bounds The original bounds.\n  @param {number} dx X axis offset.\n  @param {number} dy Y axis offset.\n  @return {Object} The newly calculated bounds.\n*/\nexport function shiftedBounds(\n  bounds: DOMRect,\n  dx: number,\n  dy: number,\n): DOMRect {\n  return new DOMRect(bounds.x + dx, bounds.y + dy, bounds.width, bounds.height);\n}\n\n/**\n  Resizes the coordinates of the given bounds using the provided\n  width and height.\n\n  @private\n  @function resizedBounds\n  @hide\n  @param {Object} bounds The original bounds.\n  @param {number} width The target width.\n  @param {number} height The target height.\n  @return {Object} The newly calculated bounds.\n*/\nexport function resizedBounds(\n  bounds: DOMRect,\n  width: number,\n  height: number,\n): DOMRect {\n  return new DOMRect(bounds.x, bounds.y, width, height);\n}\n\n/**\n  Shifts the coordinates of the given bounds so they are relative to\n  the offset.\n\n  @private\n  @function relativeBounds\n  @hide\n  @param {Object} bounds The original bounds.\n  @param {Object} offset The offset.\n  @return {Object} The newly calculated bounds.\n*/\nexport function relativeBounds(\n  bounds: DOMRect,\n  offset: { left: number; top: number },\n): DOMRect {\n  return shiftedBounds(bounds, -offset.left, -offset.top);\n}\n\n/**\n  An empty bounds object.\n\n  @private\n  @hide\n  @constant {Object} emptyBounds\n*/\nexport const emptyBounds = Object.freeze(new DOMRect(0, 0, 0, 0));\n"],"names":["nonEnumerable","target","propertyKey","descriptor","Object","getOwnPropertyDescriptor","enumerable","defineProperty","DOMRectPolyfill","fromRect","rect","DOMRect","x","y","width","height","constructor","g","prototype","i","void 0","top","right","bottom","left","toJSON","window","shiftedBounds","bounds","dx","dy","resizedBounds","relativeBounds","offset","emptyBounds","freeze"],"mappings":"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"}
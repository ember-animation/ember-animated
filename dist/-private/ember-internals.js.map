{"version":3,"file":"ember-internals.js","sources":["../../src/-private/ember-internals.ts"],"sourcesContent":["/*\n  This module is intended to encapsulate all the known places where\n  ember-animated depends on non-public Ember APIs.\n\n  See also tests/helpers/ember-testing-internals.js, which does the\n  same thing but for code that is only needed in the test environment.\n\n */\nimport { get } from '@ember/object';\nimport { guidFor } from '@ember/object/internals';\nimport Ember from 'ember';\nimport type Component from '@ember/component';\n\nconst { getViewBounds } = Ember.ViewUtils as unknown as {\n  getViewBounds(view: Component): { firstNode: Node; lastNode: Node };\n};\n\nexport function componentNodes(view: Component) {\n  let bounds = getViewBounds(view);\n  return {\n    firstNode: bounds.firstNode,\n    lastNode: bounds.lastNode,\n  };\n}\n\nexport function keyForArray(\n  keyPath: string | undefined | null,\n): (item: unknown, index: number) => string {\n  switch (keyPath) {\n    case '@index':\n      return index;\n    case '@identity':\n    case undefined:\n    case null:\n      return identity;\n    default:\n      return (item: unknown) => get(item as any, keyPath);\n  }\n}\n\nfunction index(_item: unknown, index: number) {\n  return String(index);\n}\n\nfunction identity(item: unknown) {\n  switch (typeof item) {\n    case 'string':\n    case 'number':\n      return String(item);\n    default:\n      return guidFor(item);\n  }\n}\n"],"names":["getViewBounds","Ember","ViewUtils","componentNodes","view","bounds","firstNode","lastNode","keyForArray","keyPath","index","undefined","identity","item","get","_item","String","guidFor"],"mappings":";;;;AAAA;AACA;AACA;;AAEA;AACA;;AAEA;AAMA,MAAM;AAAEA,EAAAA;AAAc,CAAC,GAAGC,KAAK,CAACC,SAE/B;AAEM,SAASC,cAAcA,CAACC,IAAe,EAAE;AAC9C,EAAA,IAAIC,MAAM,GAAGL,aAAa,CAACI,IAAI,CAAC;EAChC,OAAO;IACLE,SAAS,EAAED,MAAM,CAACC,SAAS;IAC3BC,QAAQ,EAAEF,MAAM,CAACE;GAClB;AACH;AAEO,SAASC,WAAWA,CACzBC,OAAkC,EACQ;AAC1C,EAAA,QAAQA,OAAO;AACb,IAAA,KAAK,QAAQ;AACX,MAAA,OAAOC,KAAK;AACd,IAAA,KAAK,WAAW;AAChB,IAAA,KAAKC,SAAS;AACd,IAAA,KAAK,IAAI;AACP,MAAA,OAAOC,QAAQ;AACjB,IAAA;AACE,MAAA,OAAQC,IAAa,IAAKC,GAAG,CAACD,IAAI,EAASJ,OAAO,CAAC;AACvD;AACF;AAEA,SAASC,KAAKA,CAACK,KAAc,EAAEL,KAAa,EAAE;EAC5C,OAAOM,MAAM,CAACN,KAAK,CAAC;AACtB;AAEA,SAASE,QAAQA,CAACC,IAAa,EAAE;AAC/B,EAAA,QAAQ,OAAOA,IAAI;AACjB,IAAA,KAAK,QAAQ;AACb,IAAA,KAAK,QAAQ;MACX,OAAOG,MAAM,CAACH,IAAI,CAAC;AACrB,IAAA;MACE,OAAOI,OAAO,CAACJ,IAAI,CAAC;AACxB;AACF;;;;"}
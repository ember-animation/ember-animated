{"version":3,"file":"motion-bridge.js","sources":["../../src/-private/motion-bridge.ts"],"sourcesContent":["import { rAF } from './concurrency-helpers.ts';\nimport { getOrCreate } from './singleton.ts';\n\nconst bridges = getOrCreate('motion-bridges', () => new WeakMap());\n\nexport function continueMotions(\n  oldElement: Element,\n  newElement: Element,\n): void {\n  bridges.set(newElement, oldElement);\n  rAF().then(() => {\n    if (bridges.get(newElement) === oldElement) {\n      bridges.delete(newElement);\n    }\n  });\n}\n\nexport function continuedFromElement(newElement: Element): Element | undefined {\n  return bridges.get(newElement);\n}\n"],"names":["bridges","getOrCreate","WeakMap","continueMotions","oldElement","newElement","set","rAF","then","get","delete","continuedFromElement"],"mappings":";;;AAGA,MAAMA,OAAO,GAAGC,WAAW,CAAC,gBAAgB,EAAE,MAAM,IAAIC,OAAO,EAAE,CAAC,CAAA;AAE3D,SAASC,eAAeA,CAC7BC,UAAmB,EACnBC,UAAmB,EACb;AACNL,EAAAA,OAAO,CAACM,GAAG,CAACD,UAAU,EAAED,UAAU,CAAC,CAAA;AACnCG,EAAAA,GAAG,EAAE,CAACC,IAAI,CAAC,MAAM;IACf,IAAIR,OAAO,CAACS,GAAG,CAACJ,UAAU,CAAC,KAAKD,UAAU,EAAE;AAC1CJ,MAAAA,OAAO,CAACU,MAAM,CAACL,UAAU,CAAC,CAAA;AAC5B,KAAA;AACF,GAAC,CAAC,CAAA;AACJ,CAAA;AAEO,SAASM,oBAAoBA,CAACN,UAAmB,EAAuB;AAC7E,EAAA,OAAOL,OAAO,CAACS,GAAG,CAACJ,UAAU,CAAC,CAAA;AAChC;;;;"}
{"version":3,"file":"debug.js","sources":["../../src/-private/debug.ts"],"sourcesContent":["import { DEBUG } from '@glimmer/env';\nimport type TransitionContext from './transition-context.ts';\nimport type Sprite from './sprite.ts';\n\nlet printSprites;\n\nif (DEBUG) {\n  printSprites = function printSprites(\n    context: TransitionContext,\n    label?: string,\n  ) {\n    let isOrphan: boolean | null = null;\n    let prefix = label ? label + ' ' : '';\n    /* eslint no-console:0 */\n    let spriteSummary = ['inserted', 'kept', 'removed', 'sent', 'received']\n      .map((type) => {\n        return (\n          type +\n          '=' +\n          ((context as any)[`_${type}Sprites`] as Sprite[])\n            .map((s) => {\n              if (isOrphan == null) {\n                // the first time we encounter a sprite, we use it to get a\n                // handle on whether this whole transition is happening\n                // inside animated-orphans or not. In the case of an orphan,\n                // we may have no parentElement (because our original home\n                // was destroyed already) or we may have the\n                // animated-orphans component as our parent (because we were\n                // already an orphan and got interrupted so we're starting a\n                // new motion)\n                isOrphan =\n                  !s.element.parentElement ||\n                  s.element.parentElement.classList.contains(\n                    'animated-orphans',\n                  );\n              }\n              return s.owner!.id;\n            })\n            .join(',')\n        );\n      })\n      .join(' | ');\n    console.log(prefix + spriteSummary + (isOrphan ? ' | (orphan)' : ''));\n  };\n} else {\n  printSprites = function () {};\n}\n\nexport { printSprites };\n"],"names":["printSprites","DEBUG","context","label","isOrphan","prefix","spriteSummary","map","type","s","element","parentElement","classList","contains","owner","id","join","console","log"],"mappings":";;AAIA,IAAIA,aAAY;AAEhB,IAAIC,KAAK,EAAE;AACTD,EAAAA,YAAY,GAAG,SAASA,YAAYA,CAClCE,OAA0B,EAC1BC,KAAc,EACd;IACA,IAAIC,QAAwB,GAAG,IAAI,CAAA;IACnC,IAAIC,MAAM,GAAGF,KAAK,GAAGA,KAAK,GAAG,GAAG,GAAG,EAAE,CAAA;AACrC;AACA,IAAA,IAAIG,aAAa,GAAG,CAAC,UAAU,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,UAAU,CAAC,CACpEC,GAAG,CAAEC,IAAI,IAAK;AACb,MAAA,OACEA,IAAI,GACJ,GAAG,GACDN,OAAO,CAAU,CAAA,CAAA,EAAGM,IAAK,CAAA,OAAA,CAAQ,CAAC,CACjCD,GAAG,CAAEE,CAAC,IAAK;QACV,IAAIL,QAAQ,IAAI,IAAI,EAAE;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,UAAAA,QAAQ,GACN,CAACK,CAAC,CAACC,OAAO,CAACC,aAAa,IACxBF,CAAC,CAACC,OAAO,CAACC,aAAa,CAACC,SAAS,CAACC,QAAQ,CACxC,kBACF,CAAC,CAAA;AACL,SAAA;AACA,QAAA,OAAOJ,CAAC,CAACK,KAAK,CAAEC,EAAE,CAAA;AACpB,OAAC,CAAC,CACDC,IAAI,CAAC,GAAG,CAAC,CAAA;AAEhB,KAAC,CAAC,CACDA,IAAI,CAAC,KAAK,CAAC,CAAA;AACdC,IAAAA,OAAO,CAACC,GAAG,CAACb,MAAM,GAAGC,aAAa,IAAIF,QAAQ,GAAG,aAAa,GAAG,EAAE,CAAC,CAAC,CAAA;GACtE,CAAA;AACH,CAAC,MAAM;AACLJ,EAAAA,YAAY,GAAG,YAAY,EAAE,CAAA;AAC/B;;;;"}
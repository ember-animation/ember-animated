{"version":3,"file":"fade.js","sources":["../../src/transitions/fade.ts"],"sourcesContent":["import type TransitionContext from '../-private/transition-context.ts';\nimport opacity from '../motions/opacity.ts';\n\n/**\n  Fades inserted, removed, and kept sprites.\n\n  ```js\n  import fade from 'ember-animated/transitions/fade';\n\n  export default Component.extend({\n    transition: fade\n  });\n  ```\n\n  ```hbs\n  {{#animated-if use=transition}}\n    ...\n  {{/animated-if}}\n  ```\n\n  @function fade\n  @export default\n*/\nexport default function* ({\n  removedSprites,\n  insertedSprites,\n  keptSprites,\n  duration,\n}: TransitionContext) {\n  // We yield Promise.all here because we want to wait for this\n  // step before starting what comes after.\n  yield Promise.all(\n    removedSprites.map((s) => {\n      if (s.revealed) {\n        return opacity(s, {\n          to: 0,\n          duration: duration / 2,\n        });\n      }\n      return undefined;\n    }),\n  );\n\n  // Once all fading out has happened, we can fade in the inserted\n  // or kept sprites. Note that we get keptSprites if some things\n  // were fading out and then we get interrupted and decide to\n  // keep them around after all.\n  insertedSprites.concat(keptSprites).map((s) =>\n    opacity(s, {\n      to: 1,\n      duration: duration / 2,\n    }),\n  );\n}\n"],"names":["removedSprites","insertedSprites","keptSprites","duration","Promise","all","map","s","revealed","opacity","to","undefined","concat"],"mappings":";;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,cAAW,EAAA;EACxBA,cAAc;EACdC,eAAe;EACfC,WAAW;AACXC,EAAAA,QAAAA;AACiB,CAAC,EAAE;AACpB;AACA;EACA,MAAMC,OAAO,CAACC,GAAG,CACfL,cAAc,CAACM,GAAG,CAAEC,CAAC,IAAK;IACxB,IAAIA,CAAC,CAACC,QAAQ,EAAE;MACd,OAAOC,OAAO,CAACF,CAAC,EAAE;AAChBG,QAAAA,EAAE,EAAE,CAAC;QACLP,QAAQ,EAAEA,QAAQ,GAAG,CAAA;AACvB,OAAC,CAAC,CAAA;AACJ,KAAA;AACA,IAAA,OAAOQ,SAAS,CAAA;AAClB,GAAC,CACH,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACAV,EAAAA,eAAe,CAACW,MAAM,CAACV,WAAW,CAAC,CAACI,GAAG,CAAEC,CAAC,IACxCE,OAAO,CAACF,CAAC,EAAE;AACTG,IAAAA,EAAE,EAAE,CAAC;IACLP,QAAQ,EAAEA,QAAQ,GAAG,CAAA;AACvB,GAAC,CACH,CAAC,CAAA;AACH;;;;"}